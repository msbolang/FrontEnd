<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />

    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">

    <title>Bar Code Scanner</title>
    <link rel="stylesheet" href="css/main.css" type="text/css">
  </head>
  <body id="stage" class="theme">
    <h1>Barcode Scanner and Encoder</h1>
    
    <a href="#" class="btn" onclick="scanCode();">Scan Code</a>
    
    <a href="#" class="btn enc" onclick="encodeText();">Encode Text</a>
    <a href="#" class="btn enc" onclick="encodeEmail();">Encode Email</a>
    <a href="#" class="btn enc" onclick="encodePhone();">Encode Phone</a>
    <a href="#" class="btn enc" onclick="encodeSMS();">Encode SMS</a>
    
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript">
      function scanCode() {
          cordova.plugins.barcodeScanner.scan(
            function (result) {
                alert("We got a barcode\n" +
                      "Result: " + result.text + "\n" +
                      "Format: " + result.format + "\n" +
                      "Cancelled: " + result.cancelled);
            }, 
            function (error) {
                alert("Scanning failed: " + error);
            }
         );
      }

      function encodeText() {
          cordova.plugins.barcodeScanner.encode(
            "TEXT_TYPE", 
            "http://www.baidu.com", 
            function(success) {
              alert("encode success: " + success);
            }, function(fail) {
              alert("encoding failed: " + fail);
            }
          );
      }

      function encodeEmail() {
          cordova.plugins.barcodeScanner.encode(
            "EMAIL_TYPE", 
            "rensanning@gmail.com", 
            function(success) {
              alert("encode success: " + success);
            }, function(fail) {
              alert("encoding failed: " + fail);
            }
          );
      }

      function encodePhone() {
          cordova.plugins.barcodeScanner.encode(
            "PHONE_TYPE", 
            "135-1234-5678", 
            function(success) {
              alert("encode success: " + success);
            }, function(fail) {
              alert("encoding failed: " + fail);
            }
          );
      }

      function encodeSMS() {
          cordova.plugins.barcodeScanner.encode(
            "SMS_TYPE", 
            "An important message for someone.", 
            function(success) {
              alert("encode success: " + success);
            }, function(fail) {
              alert("encoding failed: " + fail);
            }
          );
      }

    </script>
  </body>
</html>
